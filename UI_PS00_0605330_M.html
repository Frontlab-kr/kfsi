<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>한국소방안전원</title>

    <!-- jquery -->
    <script src="./assets/js/jquery.min.js"></script>
    <!-- bootstrap -->
    <script src="./assets/js/popper.min.js"></script>
    <script src="./assets/js/bootstrap.min.js"></script>

    <!-- dropzone -->
    <script src="./assets/js/dropzone.min.js"></script>

    <!-- js -->
    <script src="./assets/js/common.js"></script>

    <link rel="SHORTCUT ICON" href="./assets/images/k6.ico" />
    <link rel="stylesheet" href="./assets/scss/common.css" />
  </head>
  <body>
    <div class="kfsi">
      <div id="header"></div>
      <div id="kfsi-body">
        <div class="kfsi-inner">
          <div class="kfsi-body">
            <div class="kfsi-snb">
              <div class="kfsi-snb__title">
                <h2>소방안전관리대상</h2>
              </div>
              <a href="" class="kfsi-snb-item">대회소개</a>
              <a href="" class="kfsi-snb-item active">공지사항</a>
              <a href="" class="kfsi-snb-item">신청 및 결과</a>
              <a href="" class="kfsi-snb-item">역대수상작</a>
            </div>
            <div class="kfsi-contents">
              <div class="kfsi-breadcrumb">
                <nav aria-label="breadcrumb">
                  <ol class="breadcrumb">
                    <li class="breadcrumb-item"><i class="ico-home">홈</i></li>
                    <li class="breadcrumb-item">안전문화행사</li>
                    <li class="breadcrumb-item">소방안전관리대상</li>
                    <li class="breadcrumb-item active" aria-current="page">
                      지원하기
                    </li>
                  </ol>
                </nav>
              </div>

              <div class="kfsi-contents-title">
                <h1>지원하기 (2단계)</h1>
              </div>
              <div class="pt-10">
                <div class="mb-15 mo-mb-10">
                  <h4 class="kfsi-h4">소방계획서 등록 방법</h4>
                  <div class="kfsi-number-list mt-4">
                    <ol>
                      <li>
                        <p><strong>1.</strong>대상물 확인(필수)</p>
                      </li>
                      <li>
                        <p>
                          <strong>2.</strong>소방계획서 등록(필수) 온라인 또는
                          첨부파일
                        </p>
                      </li>
                      <li>
                        <p><strong>3.</strong>기타 첨부파일 등록(선택)</p>
                      </li>
                    </ol>
                  </div>
                </div>
                <div class="mb-15 mo-mb-10">
                  <h5 class="kfsi-h5">대상물 확인(필수)</h5>
                  <div class="kfsi-table kfsi-table-scroll mt-3">
                    <table
                      summary="업체명, 주소, 온라인 유무, 선택 여부를 확인할 수 있는 업체 목록 테이블입니다."
                      class="border-top border-primary"
                      style="border-width: 2px !important"
                    >
                      <caption class="sr-only">
                        업체 선택 테이블
                      </caption>
                      <colgroup>
                        <col style="width: 200px" />
                        <col style="width: 540px" />
                        <col style="width: 100px" />
                        <col style="width: 100px" />
                      </colgroup>
                      <thead>
                        <tr>
                          <th scope="col">상호명</th>
                          <th scope="col">주소</th>
                          <th scope="col">온라인 유무</th>
                          <th scope="col">선택</th>
                        </tr>
                      </thead>

                      <tbody>
                        <tr>
                          <td class="text-start">정가네 로얄프라자</td>
                          <td class="text-start">
                            인천광역시 서구 인천광역시 서구 승학로 587 587
                            로얄프라자
                          </td>
                          <td>
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="checkboxNoLabel"
                              value=""
                              aria-label="..."
                            />
                          </td>
                          <td>
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="checkboxNoLabel"
                              value=""
                              aria-label="..."
                            />
                          </td>
                        </tr>
                        <tr>
                          <td class="text-start">인천 마굿간</td>
                          <td class="text-start">
                            인천광역시 서구 승학로236번길 28 (A동)
                          </td>
                          <td></td>
                          <td>
                            <input
                              class="form-check-input"
                              type="checkbox"
                              id="checkboxNoLabel"
                              value=""
                              aria-label="..."
                            />
                          </td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <div class="mb-15 mo-mb-10">
                  <h5 class="kfsi-h5">소방계획서 등록 방식(필수)</h5>
                  <div class="kfsi-tabs kfsi-tabs--columns2 mt-4">
                    <ul role="tablist">
                      <li role="presentation" style="width: 235px">
                        <button
                          class="active"
                          id="tab01"
                          data-bs-toggle="tab"
                          data-bs-target="#tab01-pane"
                          type="button"
                          role="tab"
                          aria-controls="tab01-pane"
                          aria-selected="true"
                        >
                          온라인 등록
                        </button>
                      </li>
                      <li role="presentation" style="width: 235px">
                        <button
                          id="tab02"
                          data-bs-toggle="tab"
                          data-bs-target="#tab02-pane"
                          type="button"
                          role="tab"
                          aria-controls="tab02-pane"
                          aria-selected="false"
                        >
                          첨부 파일 등록
                        </button>
                      </li>
                    </ul>
                    <div class="tab-content">
                      <div
                        class="tab-pane fade show active"
                        id="tab01-pane"
                        role="tabpanel"
                        aria-labelledby="tab01"
                        tabindex="0"
                      >
                        <div class="mt-7">
                          <div
                            class="d-flex align-items-center justify-content-between"
                          >
                            <div></div>
                            <div class="d-flex gap-4">
                              <button class="btn btn-outline-secondary">
                                새로고침
                              </button>
                              <button type="button" class="btn btn-info2">
                                소방계획서 불러오기
                              </button>
                            </div>
                          </div>
                          <div class="kfsi-table kfsi-table-scroll mt-3">
                            <table
                              summary="소방계획서 목록 테이블로, 제목, 작성일자, 조회 버튼 및 적용 체크박스를 포함합니다."
                              class="border-top border-primary"
                              style="border-width: 2px !important"
                            >
                              <caption class="sr-only">
                                소방계획서 목록
                              </caption>
                              <colgroup>
                                <col style="width: 570px" />
                                <col style="width: 150px" />
                                <col style="width: 120px" />
                                <col style="width: 100px" />
                              </colgroup>
                              <thead>
                                <tr>
                                  <th scope="col">소방계획서</th>
                                  <th scope="col">작성일자</th>
                                  <th scope="col">조회</th>
                                  <th scope="col">적용</th>
                                </tr>
                              </thead>

                              <tbody>
                                <tr>
                                  <td class="text-start">
                                    로얄프라자 2025 소방계획서
                                  </td>
                                  <td class="text-start">2025-05-05</td>
                                  <td>
                                    <button class="btn btn-outline-secondary">
                                      조회
                                    </button>
                                  </td>
                                  <td>
                                    <input
                                      class="form-check-input"
                                      type="checkbox"
                                      id="checkboxNoLabel"
                                      value=""
                                      aria-label="..."
                                    />
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                      <div
                        class="tab-pane fade"
                        id="tab02-pane"
                        role="tabpanel"
                        aria-labelledby="tab02"
                        tabindex="0"
                      >
                        <div class="mt-7">
                          <div class="kfsi-table kfsi-table-scroll mt-3">
                            <table
                              summary="소방계획서 제출을 위한 파일 업로드 테이블입니다. 파일 첨부 영역과 업로드 시 유의사항을 안내합니다."
                              class="border-top border-primary"
                              style="border-width: 2px !important"
                            >
                              <caption class="sr-only">
                                소방계획서 파일 첨부 테이블
                              </caption>
                              <colgroup>
                                <col style="width: 210px" />
                                <col style="width: 730px" />
                              </colgroup>

                              <tbody>
                                <tr>
                                  <th scope="row">파일첨부</th>
                                  <td>
                                    <div class="kfsi-upload">
                                      <div id="dropzone">
                                        <form
                                          class="dropzone needsclick"
                                          id="demo-upload"
                                          action="/upload"
                                        >
                                          <div class="dz-message needsclick">
                                            <div class="dz-message__title">
                                              <i class="ico-file-plus"></i>
                                              파일을 이곳에 드래그하세요.<br />
                                            </div>
                                            <small
                                              >(또는 클릭하여 파일을
                                              선택하세요)</small
                                            >
                                          </div>
                                        </form>
                                      </div>
                                    </div>
                                    <script>
                                      var dropzone = new Dropzone(
                                        '#demo-upload',
                                        {
                                          previewTemplate:
                                            document.querySelector(
                                              '#preview-template'
                                            ).innerHTML,
                                          parallelUploads: 2,
                                          thumbnailHeight: 120,
                                          thumbnailWidth: 120,
                                          maxFilesize: 3, // 최대 파일 크기 (MB)
                                          filesizeBase: 1000,
                                          dictDefaultMessage:
                                            '파일을 이곳에 드래그하세요.', // 기본 메시지
                                          dictFallbackMessage:
                                            '이 브라우저는 드래그 앤 드롭 파일 업로드를 지원하지 않습니다.',
                                          dictFileTooBig:
                                            '파일 크기가 너무 큽니다 ({{filesize}}MB). 최대 크기: {{maxFilesize}}MB.',
                                          dictInvalidFileType:
                                            '이 파일 형식은 업로드할 수 없습니다.',
                                          dictResponseError:
                                            '서버에서 {{statusCode}} 에러가 발생했습니다.',
                                          dictCancelUpload: '업로드 취소',
                                          dictCancelUploadConfirmation:
                                            '이 업로드를 정말 취소하시겠습니까?',
                                          dictRemoveFile: '파일 삭제',
                                          dictMaxFilesExceeded:
                                            '더 이상 파일을 업로드할 수 없습니다.',
                                          thumbnail: function (file, dataUrl) {
                                            if (file.previewElement) {
                                              file.previewElement.classList.remove(
                                                'dz-file-preview'
                                              );
                                              var images =
                                                file.previewElement.querySelectorAll(
                                                  '[data-dz-thumbnail]'
                                                );
                                              for (
                                                var i = 0;
                                                i < images.length;
                                                i++
                                              ) {
                                                var thumbnailElement =
                                                  images[i];
                                                thumbnailElement.alt =
                                                  file.name;
                                                thumbnailElement.src = dataUrl;
                                              }
                                              setTimeout(function () {
                                                file.previewElement.classList.add(
                                                  'dz-image-preview'
                                                );
                                              }, 1);
                                            }
                                          },
                                        }
                                      );

                                      // 파일 업로드 시 시뮬레이션
                                      var minSteps = 6,
                                        maxSteps = 60,
                                        timeBetweenSteps = 100,
                                        bytesPerStep = 100000;

                                      dropzone.uploadFiles = function (files) {
                                        var self = this;

                                        for (var i = 0; i < files.length; i++) {
                                          var file = files[i];
                                          totalSteps = Math.round(
                                            Math.min(
                                              maxSteps,
                                              Math.max(
                                                minSteps,
                                                file.size / bytesPerStep
                                              )
                                            )
                                          );

                                          for (
                                            var step = 0;
                                            step < totalSteps;
                                            step++
                                          ) {
                                            var duration =
                                              timeBetweenSteps * (step + 1);
                                            setTimeout(
                                              (function (
                                                file,
                                                totalSteps,
                                                step
                                              ) {
                                                return function () {
                                                  file.upload = {
                                                    progress:
                                                      (100 * (step + 1)) /
                                                      totalSteps,
                                                    total: file.size,
                                                    bytesSent:
                                                      ((step + 1) * file.size) /
                                                      totalSteps,
                                                  };

                                                  self.emit(
                                                    'uploadprogress',
                                                    file,
                                                    file.upload.progress,
                                                    file.upload.bytesSent
                                                  );
                                                  if (
                                                    file.upload.progress == 100
                                                  ) {
                                                    file.status =
                                                      Dropzone.SUCCESS;
                                                    self.emit(
                                                      'success',
                                                      file,
                                                      'success',
                                                      null
                                                    );
                                                    self.emit('complete', file);
                                                    self.processQueue();
                                                  }
                                                };
                                              })(file, totalSteps, step),
                                              duration
                                            );
                                          }
                                        }
                                      };
                                    </script>
                                    <div class="mt-4 text-start">
                                      * 소방계획서 원본파일(hwp, hwpx, ppt 중
                                      택1)을 올려주세요.<br />
                                      * 제출 하실 파일의 이름은
                                      참가분야-대상물명-참가신청자<br />
                                      <span class="ms-3 text-666"
                                        >예)
                                        2급3급분야-한국소방안전원-홍길동</span
                                      >
                                      <div class="mt-2 text-danger">
                                        * 파일은 한 개만 첨부해 주세요. (2개
                                        이상 첨부를 원할시 압축하여 넣어주세요)
                                      </div>
                                    </div>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="mb-10 mo-mb-10">
                  <h5 class="kfsi-h5">기타 첨부파일 등록(선택)</h5>
                  <div class="mt-3">
                    <div class="kfsi-list">
                      <ul>
                        <li>추가적인 이미지, 자료 등을 첨부해 주세요.</li>
                        <li>
                          제출 하실 파일의 이름은
                          참가분야-대상물명-참가신청자<br />
                          <span class="ms-3 text-666"
                            >예) 2급3급분야-한국소방안전원-홍길동</span
                          >
                        </li>
                      </ul>
                      <div class="text-danger">
                        ※ 소방계획서를 첨부하지 마세요. (소방계획서가 첨부된
                        경우에는 해당 파일은 무효 처리됩니다).<br />
                        ※ 2개 이상 파일을 첨부할 시, 압축하여 넣어주세요.
                      </div>
                    </div>
                    <div class="kfsi-table kfsi-table-scroll mt-3">
                      <table
                        summary="기타 첨부파일 등록을 위한 업로드 테이블입니다. 추가적인 이미지나 자료를 첨부할 수 있습니다."
                        class="border-top border-primary"
                        style="border-width: 2px !important"
                      >
                        <caption class="sr-only">
                          기타 첨부파일 업로드 테이블
                        </caption>
                        <colgroup>
                          <col style="width: 210px" />
                          <col style="width: 730px" />
                        </colgroup>

                        <tbody>
                          <tr>
                            <th scope="row">파일첨부</th>
                            <td>
                              <div class="kfsi-upload">
                                <div id="dropzone">
                                  <form
                                    class="dropzone needsclick"
                                    id="demo-upload"
                                    action="/upload"
                                  >
                                    <div class="dz-message needsclick">
                                      <div class="dz-message__title">
                                        <i class="ico-file-plus"></i>
                                        파일을 이곳에 드래그하세요.<br />
                                      </div>
                                      <small
                                        >(또는 클릭하여 파일을
                                        선택하세요)</small
                                      >
                                    </div>
                                  </form>
                                </div>
                              </div>
                              <script>
                                var dropzone = new Dropzone('#demo-upload', {
                                  previewTemplate:
                                    document.querySelector('#preview-template')
                                      .innerHTML,
                                  parallelUploads: 2,
                                  thumbnailHeight: 120,
                                  thumbnailWidth: 120,
                                  maxFilesize: 3, // 최대 파일 크기 (MB)
                                  filesizeBase: 1000,
                                  dictDefaultMessage:
                                    '파일을 이곳에 드래그하세요.', // 기본 메시지
                                  dictFallbackMessage:
                                    '이 브라우저는 드래그 앤 드롭 파일 업로드를 지원하지 않습니다.',
                                  dictFileTooBig:
                                    '파일 크기가 너무 큽니다 ({{filesize}}MB). 최대 크기: {{maxFilesize}}MB.',
                                  dictInvalidFileType:
                                    '이 파일 형식은 업로드할 수 없습니다.',
                                  dictResponseError:
                                    '서버에서 {{statusCode}} 에러가 발생했습니다.',
                                  dictCancelUpload: '업로드 취소',
                                  dictCancelUploadConfirmation:
                                    '이 업로드를 정말 취소하시겠습니까?',
                                  dictRemoveFile: '파일 삭제',
                                  dictMaxFilesExceeded:
                                    '더 이상 파일을 업로드할 수 없습니다.',
                                  thumbnail: function (file, dataUrl) {
                                    if (file.previewElement) {
                                      file.previewElement.classList.remove(
                                        'dz-file-preview'
                                      );
                                      var images =
                                        file.previewElement.querySelectorAll(
                                          '[data-dz-thumbnail]'
                                        );
                                      for (var i = 0; i < images.length; i++) {
                                        var thumbnailElement = images[i];
                                        thumbnailElement.alt = file.name;
                                        thumbnailElement.src = dataUrl;
                                      }
                                      setTimeout(function () {
                                        file.previewElement.classList.add(
                                          'dz-image-preview'
                                        );
                                      }, 1);
                                    }
                                  },
                                });

                                // 파일 업로드 시 시뮬레이션
                                var minSteps = 6,
                                  maxSteps = 60,
                                  timeBetweenSteps = 100,
                                  bytesPerStep = 100000;

                                dropzone.uploadFiles = function (files) {
                                  var self = this;

                                  for (var i = 0; i < files.length; i++) {
                                    var file = files[i];
                                    totalSteps = Math.round(
                                      Math.min(
                                        maxSteps,
                                        Math.max(
                                          minSteps,
                                          file.size / bytesPerStep
                                        )
                                      )
                                    );

                                    for (
                                      var step = 0;
                                      step < totalSteps;
                                      step++
                                    ) {
                                      var duration =
                                        timeBetweenSteps * (step + 1);
                                      setTimeout(
                                        (function (file, totalSteps, step) {
                                          return function () {
                                            file.upload = {
                                              progress:
                                                (100 * (step + 1)) / totalSteps,
                                              total: file.size,
                                              bytesSent:
                                                ((step + 1) * file.size) /
                                                totalSteps,
                                            };

                                            self.emit(
                                              'uploadprogress',
                                              file,
                                              file.upload.progress,
                                              file.upload.bytesSent
                                            );
                                            if (file.upload.progress == 100) {
                                              file.status = Dropzone.SUCCESS;
                                              self.emit(
                                                'success',
                                                file,
                                                'success',
                                                null
                                              );
                                              self.emit('complete', file);
                                              self.processQueue();
                                            }
                                          };
                                        })(file, totalSteps, step),
                                        duration
                                      );
                                    }
                                  }
                                };
                              </script>
                            </td>
                          </tr>
                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <div class="kfsi-board-button">
                  <p></p>
                  <p>
                    <button
                      type="button"
                      class="btn btn-primary btn-lg"
                      style="width: 250px"
                    >
                      저장 후 다음단계
                    </button>
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div id="footer"></div>
    </div>

    <div
      style="
        position: fixed;
        bottom: 0;
        right: 0;
        padding: 20px;
        background: rgba(0, 0, 0, 0.5);
        z-index: 1000000;
      "
    >
      <a
        href=""
        class="btn btn-primary btn-sm"
        data-bs-toggle="modal"
        data-bs-target="#modal01"
        >UI_PS00_0605330_M(P)</a
      >
    </div>
    <!-- Modal -->
    <div class="modal fade" id="modal01" tabindex="-1" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered" style="max-width: 800px">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="modal-title fs-5"></h3>
            <button
              type="button"
              class="btn-close"
              data-bs-dismiss="modal"
              aria-label="Close"
            ></button>
          </div>
          <div class="modal-body">
            <div class="kfsi-table kfsi-table-scroll mt-3">
              <table
                summary="임시 저장된 소방계획서 목록으로, 상태 및 저장일시, 제목, 선택 버튼으로 구성됩니다."
              >
                <caption>
                  임시 저장된 소방계획서 목록
                </caption>
                <colgroup>
                  <col style="width: 222px" />
                  <col style="width: 410px" />
                  <col style="width: 120px" />
                </colgroup>
                <thead>
                  <tr>
                    <th scope="col">상태(저장일시)</th>
                    <th scope="col">제목</th>
                    <th scope="col">선택</th>
                  </tr>
                </thead>

                <tbody>
                  <tr>
                    <td class="text-start">작성 중 (2024.11.05 10:25)</td>
                    <td class="text-start">
                      로얄프라자 2025 소방계획서 (임시저장)
                    </td>
                    <td>
                      <button type="button" class="btn btn-outline-secondary">
                        선택
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-start">작성 중 (2024.11.05 10:25)</td>
                    <td class="text-start">
                      로얄프라자 2025 소방계획서 (임시저장)
                    </td>
                    <td>
                      <button type="button" class="btn btn-outline-secondary">
                        선택
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-start">작성 중 (2024.11.05 10:25)</td>
                    <td class="text-start">
                      로얄프라자 2025 소방계획서 (임시저장)
                    </td>
                    <td>
                      <button type="button" class="btn btn-outline-secondary">
                        선택
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
